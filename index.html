<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cockpit Professeur - Pilotage Global</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-body: #f1f5f9; --bg-sidebar: #0f172a; --text-main: #1e293b; --text-muted: #64748b;
            --col-pedago: #3b82f6; --col-eval: #f59e0b; --col-class: #10b981; --col-proj: #8b5cf6; 
            --col-admin: #f97316; --col-live-web: #795548; --col-sites: #607d8b; 
        }
        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Inter', sans-serif; background-color: var(--bg-body); color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }

        /* SIDEBAR */
        .sidebar { width: 300px; background-color: var(--bg-sidebar); color: white; display: flex; flex-direction: column; padding: 20px; flex-shrink: 0; overflow-y: auto; gap: 10px; }
        .brand { font-size: 1.3rem; font-weight: 800; color: white; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; letter-spacing: 1px; }
        .nav-category { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; color: #64748b; margin: 15px 0 5px 0; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 12px 15px; border-radius: 8px; cursor: pointer; transition: 0.2s; font-weight: 600; color: #cbd5e1; border-left: 4px solid transparent; }
        .nav-item:hover { background-color: rgba(255,255,255,0.05); color: white; }
        .nav-item.active { background-color: rgba(255,255,255,0.1); color: white; }
        .nav-item[data-theme="pedago"].active { border-left-color: var(--col-pedago); }
        .nav-item[data-theme="eval"].active { border-left-color: var(--col-eval); }
        .nav-item[data-theme="class"].active { border-left-color: var(--col-class); }
        .nav-item[data-theme="proj"].active { border-left-color: var(--col-proj); }
        .nav-item[data-theme="admin"].active { border-left-color: var(--col-admin); }
        .nav-item[data-theme="live"].active { border-left-color: var(--col-live-web); }
        .nav-item[data-theme="sites"].active { border-left-color: var(--col-sites); }

        /* MAIN CONTENT */
        .main-content { flex-grow: 1; padding: 40px; overflow-y: auto; display: flex; flex-direction: column; position: relative; }
        header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px; border-bottom: 1px solid #e2e8f0; padding-bottom: 20px; }
        h1 { margin: 0; font-size: 2rem; font-weight: 800; color: var(--text-main); }
        .header-infos { text-align: right; }
        .clock-time { font-size: 1.5rem; font-weight: 800; color: var(--text-main); }
        .vacation-badge { margin-top: 5px; font-size: 0.8rem; background: #dbeafe; color: #2563eb; padding: 4px 10px; border-radius: 20px; font-weight: bold; border: 1px solid #bfdbfe; }

        .view-section { display: none; animation: fadeUp 0.4s ease-out; }
        .view-section.active { display: block; }

        @keyframes fadeUp {
          from { opacity:0; transform:translateY(6px); }
          to { opacity:1; transform:translateY(0); }
        }

        /* DASHBOARD GRID */
        .quick-actions { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .btn-quick { background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 12px; text-align: left; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.02); text-decoration: none; color: inherit; }
        .btn-quick:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-color: var(--col-pedago); }
        
        .dashboard-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 25px; }
        .widget { background: white; border-radius: 16px; padding: 25px; border: 1px solid #e2e8f0; display:flex; flex-direction: column; min-height: 400px;}
        .widget h3 { margin-top: 0; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; margin-bottom: 15px; font-size: 1.1rem; display: flex; justify-content: space-between; align-items: center; }

        .planning-list { list-style: none; padding: 0; margin: 0; overflow-y: auto; }
        .course-item { padding: 15px; border-bottom: 1px solid #f8fafc; display: flex; align-items: center; border-radius: 8px; }
        .course-item.active-course { background: #dcfce7; border: 2px solid #22c55e; }
        .course-time { font-weight: 800; font-size: 0.9rem; color: #475569; width: 75px; }

        /* MÃ‰MOS */
        .alert-item { background: #fff; border: 1px solid #e2e8f0; padding: 12px; margin-bottom: 8px; border-radius: 8px; font-size: 0.9rem; display: flex; justify-content: space-between; align-items: center; }
        .alert-item.context-active { background: #fee2e2; border: 2px solid #ef4444; color: #b91c1c; font-weight: bold; animation: pulse-red 1.5s infinite; }
        @keyframes pulse-red { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }

        /* AGENDA */
        .right-stack{ display:flex; flex-direction:column; gap:25px; }
        .agenda-form{ display:flex; gap:6px; flex-wrap:wrap; margin-bottom:10px; }
        .agenda-form input, .agenda-form select{ padding:8px; border-radius:6px; border:1px solid #ddd; }
        .agenda-form input[type="date"], .agenda-form input[type="time"]{ width: 130px; }
        .agenda-form .wide{ flex:1; min-width: 170px; }
        .agenda-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; }
        .agenda-item{ background:#fff; border:1px solid #e2e8f0; padding:10px 12px; border-radius:10px; display:flex; justify-content:space-between; align-items:flex-start; gap:10px; font-size:0.9rem; }
        .agenda-item.soon{ border-color:#f59e0b; background:#fffbeb; }
        .agenda-meta{ font-size:0.82rem; color:#64748b; margin-top:2px; }
        .agenda-tag{ font-weight:800; }

        /* ACCORDÃ‰ONS TIROIRS */
        details { background: white; border: 1px solid #e2e8f0; border-radius: 8px; margin-bottom: 10px; overflow: hidden; }
        summary { padding: 15px; font-weight: 600; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        details[open] > summary { background: #f1f5f9; border-bottom: 1px solid #e2e8f0; }
        .content-links { padding: 15px; display: flex; flex-wrap: wrap; gap: 10px; }
        .btn-yellow { display: inline-flex; align-items: center; gap: 8px; padding: 8px 16px; background: #fffbeb; color: #b45309; border: 1px solid #fcd34d; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 0.85rem; }
        .btn-blue-outline { background: #f0f9ff; color: #0369a1; border: 1px solid #bae6fd; padding: 8px 16px; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 0.85rem; cursor: pointer; }

        .badge-soon{
          display:inline-block;
          font-size:11px;
          padding:2px 8px;
          border-radius:999px;
          margin-left:8px;
          border:1px solid rgba(255,255,255,.22);
          background:rgba(255,255,255,.12);
          vertical-align:middle;
        }

        /* CLARTÃ‰ VISUELLE : COURS (CAP / BAC PRO) */
        #course-structure > summary{
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.14);
        }
        #course-structure details > summary{
            margin-top: 8px;
        }
        #course-structure .lvl-cap > summary{
            background: rgba(37,99,235,0.12);
            border-left: 6px solid rgba(37,99,235,0.9);
            font-weight: 900;
        }
        #course-structure .lvl-bacpro > summary{
            background: rgba(22,163,74,0.12);
            border-left: 6px solid rgba(22,163,74,0.9);
            font-weight: 900;
        }
        #course-structure .lvl-cap > details > summary{
            background: rgba(37,99,235,0.08);
            border-left: 4px solid rgba(37,99,235,0.55);
            font-weight: 800;
        }
        #course-structure .lvl-cap > details > details > summary{
            background: rgba(37,99,235,0.05);
            border-left: 3px solid rgba(37,99,235,0.35);
            font-weight: 700;
        }
        #course-structure .lvl-bacpro > details > summary{
            background: rgba(22,163,74,0.08);
            border-left: 4px solid rgba(22,163,74,0.55);
            font-weight: 800;
        }
        #course-structure .lvl-bacpro > details > details > summary{
            background: rgba(22,163,74,0.05);
            border-left: 3px solid rgba(22,163,74,0.35);
            font-weight: 700;
        }
        #course-structure .content-links{
            padding-left: 10px;
        }

        /* CLASSE EN TEMPS RÃ‰EL */
        .live-block{
            margin-top: 12px;
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 14px;
            overflow: hidden;
            background: rgba(255,255,255,0.03);
        }
        .live-summary{
            font-weight: 900;
            letter-spacing: 0.2px;
            padding: 14px 16px;
            background: rgba(255,255,255,0.05);
        }
        .live-links{
            padding: 14px 12px;
        }
        .badge-role{
            display: inline-flex;
            align-items: center;
            padding: 2px 10px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 900;
            margin-left: 10px;
            border: 1px solid rgba(0,0,0,0.08);
            white-space: nowrap;
        }
        .role-eleve{
            background: rgba(245, 158, 11, 0.18);
            color: #a16207;
            border-color: rgba(245, 158, 11, 0.28);
        }
        .role-prof{
            background: rgba(59, 130, 246, 0.18);
            color: #1d4ed8;
            border-color: rgba(59, 130, 246, 0.28);
        }
        @media (max-width: 980px){
            #course-structure details > summary{ font-size: 0.98rem; }
            .live-summary{ font-size: 1.02rem; }
        }

        /* RESPONSIVE MOBILE (sidebar drawer) */
        .menu-overlay{
            display:none;
            position:fixed;
            inset:0;
            background: rgba(15,23,42,0.55);
            backdrop-filter: blur(2px);
            z-index: 999;
        }
        .menu-btn{
            display:none;
            border:none;
            background:#0f172a;
            color:#fff;
            width:44px;
            height:44px;
            border-radius:12px;
            font-size:20px;
            font-weight:900;
            cursor:pointer;
            align-items:center;
            justify-content:center;
            box-shadow: 0 6px 18px rgba(0,0,0,0.18);
            flex-shrink:0;
        }

        @media (max-width: 980px){
            body{ height:auto; overflow:auto; display:block; }
            .sidebar{
                position: fixed;
                top: 0; left: 0; bottom: 0;
                height: 100vh;
                width: min(86vw, 340px);
                transform: translateX(-110%);
                transition: transform .25s ease;
                z-index: 1000;
                padding: 18px;
            }
            .main-content{
                padding: 16px;
                min-height: 100vh;
                overflow: visible;
            }
            header{
                align-items: center;
                gap: 12px;
                margin-bottom: 16px;
                padding-bottom: 14px;
            }
            h1{ font-size: 1.35rem; }
            .clock-time{ font-size: 1.15rem; }
            .menu-btn{ display:inline-flex; }
            .dashboard-grid{ grid-template-columns: 1fr; gap: 14px; }
            .widget{ min-height: auto; padding: 16px; border-radius: 14px; }
            .quick-actions{ grid-template-columns: 1fr; }
            .btn-quick{ padding: 14px; }
            .course-time{ width: 68px; }
            summary{ padding: 14px; }
            .content-links{ padding: 12px; gap: 8px; }
            .btn-yellow, .btn-blue-outline{ width: 100%; justify-content: space-between; }
        }

        body.menu-open .sidebar{ transform: translateX(0); }
        body.menu-open .menu-overlay{ display:block; }

        /* PLANNING + AGENDA (fusion) */
        .course-item.is-agenda { background: #eef2ff; border: 1px solid #c7d2fe; }
        .course-item.is-agenda .course-time { color: #3730a3; }
        .course-item.is-agenda b { color: #1f2937; }

        /* TIMELINE (modal) */
        .modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; z-index:9998; padding:14px;}
        .modal{ width:min(1100px, 96vw); max-height:88vh; overflow:auto; background:#fff; border-radius:16px; border:1px solid #e2e8f0; box-shadow:0 20px 60px rgba(0,0,0,.25); }
        .modal header{ position:sticky; top:0; background:#fff; padding:12px 14px; border-bottom:1px solid #e2e8f0; display:flex; justify-content:space-between; align-items:center; gap:10px; z-index:1;}
        .modal header h3{ margin:0; font-size:1rem; }
        .modal .content{ padding:12px 14px 16px; }
        .timeline-wrap{ display:grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap:12px; }
        .month-col{ border:1px solid #e2e8f0; border-radius:12px; padding:10px; background:#ffffff; }
        .month-title{ font-weight:800; font-size:.95rem; margin:0 0 8px; display:flex; justify-content:space-between; align-items:center; }
        .month-bar{ display:flex; flex-wrap:wrap; gap:2px; }
        .daycell{ width:10px; height:10px; border-radius:3px; background:#f1f5f9; border:1px solid #e2e8f0; box-sizing:border-box; position:relative; }
        .daycell.vac{ background:#fde68a; border-color:#f59e0b; }
        .daycell.pfmp{ background:#bbf7d0; border-color:#22c55e; }
        .daycell.course::after{ content:""; position:absolute; inset:2px; border-radius:2px; border:1px solid #3b82f6; opacity:.75; }
        .daycell.agenda::before{ content:""; position:absolute; width:4px; height:4px; border-radius:50%; background:#111827; right:1px; bottom:1px; }
        .legend{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin:8px 0 0; font-size:.85rem; color:#475569; font-weight:700;}
        .legend span{ display:inline-flex; align-items:center; gap:6px; }
        .dot{ width:10px; height:10px; border-radius:3px; border:1px solid #e2e8f0; background:#f1f5f9; display:inline-block; }
        .dot.vac{ background:#fde68a; border-color:#f59e0b; }
        .dot.pfmp{ background:#bbf7d0; border-color:#22c55e; }
        .dot.course{ background:#f1f5f9; border-color:#3b82f6; box-shadow: inset 0 0 0 1px #3b82f6; }
        .dot.agenda{ background:#111827; border-color:#111827; border-radius:50%; width:8px; height:8px; }

        /* Table â€œpremiumâ€ */
        .tbl-wrap{
          overflow:auto;
          border:1px solid #e2e8f0;
          border-radius:14px;
          background:#fff;
        }
        .tbl{
          width:100%;
          border-collapse:separate;
          border-spacing:0;
          font-size:.92rem;
          min-width: 760px;
        }
        .tbl thead th{
          position: sticky;
          top: 0;
          z-index: 1;
          background:#f8fafc;
          text-align:left;
          padding:10px 12px;
          border-bottom:1px solid #e2e8f0;
          font-weight:900;
        }
        .tbl tbody td{
          padding:10px 12px;
          border-bottom:1px solid #f1f5f9;
          vertical-align:middle;
        }
        .tbl tbody tr:hover{
          background:#f8fafc;
        }
        .tbl .muted{ color:#64748b; font-weight:700; }
        .chip{
          display:inline-flex; align-items:center; gap:8px;
          padding:6px 10px;
          border-radius:999px;
          font-weight:900;
          font-size:12px;
          border:1px solid rgba(0,0,0,0.08);
          white-space:nowrap;
        }
        .chip-ok{ background: rgba(34,197,94,0.16); color:#15803d; border-color: rgba(34,197,94,0.22); }
        .chip-bad{ background: rgba(239,68,68,0.14); color:#b91c1c; border-color: rgba(239,68,68,0.22); }
        .chip-mid{ background: rgba(245,158,11,0.14); color:#b45309; border-color: rgba(245,158,11,0.22); }
        .mono{
          font-variant-numeric: tabular-nums;
          font-feature-settings: "tnum" 1;
        }

        /* Tableau scores exercices */
        .results-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .results-table thead { background-color: #f1f5f9; color: #475569; font-weight: 700; text-align: left; }
        .results-table th, .results-table td { padding: 12px 15px; border-bottom: 1px solid #e2e8f0; }
        .results-table tr:hover { background-color: #f8fafc; }
        .score-good { color: #16a34a; font-weight:800; }
        .score-mid { color: #ca8a04; font-weight:800; }
        .score-bad { color: #dc2626; font-weight:800; }
        .badge-class { background:#e2e8f0; color:#475569; padding:2px 8px; border-radius:4px; font-size:0.75em; font-weight:700; }

        .scores-card{
          background:#ffffff;
          border-radius:18px;
          border:1px solid #e2e8f0;
          padding:18px 18px 12px;
          box-shadow:0 10px 30px rgba(15,23,42,.06);
          max-width:1100px;
        }
        .scores-toolbar{
          display:flex;
          flex-wrap:wrap;
          align-items:center;
          gap:10px;
          margin-bottom:12px;
        }
        .scores-pill{
          display:inline-flex;
          align-items:center;
          gap:6px;
          padding:4px 10px;
          border-radius:999px;
          background:#fef3c7;
          color:#92400e;
          font-size:.8rem;
          font-weight:700;
        }
        .scores-button{
          border:none;
          border-radius:999px;
          padding:7px 14px;
          font-size:.9rem;
          font-weight:600;
          cursor:pointer;
          background:#0f172a;
          color:white;
          display:inline-flex;
          align-items:center;
          gap:6px;
        }
        .scores-button[disabled]{opacity:.6;cursor:default;}
        .scores-counter{
          margin-left:auto;
          font-size:.85rem;
          color:#64748b;
        }
        .scores-filters{
          display:flex;
          gap:8px;
          flex-wrap:wrap;
          margin-bottom:8px;
        }
        .scores-filters input,
        .scores-filters select{
          border-radius:999px;
          border:1px solid #e2e8f0;
          padding:6px 11px;
          font-size:.85rem;
          min-width:120px;
        }
        .scores-table-wrap{
          margin-top:4px;
          border-radius:14px;
          border:1px solid #e5e7eb;
          overflow:auto;
        }
        .scores-empty{
          padding:14px;
          text-align:center;
          font-size:.9rem;
          color:#64748b;
        }
        .scores-status-bar{
          margin-top:10px;
          font-size:.8rem;
          color:#64748b;
          display:flex;
          flex-wrap:wrap;
          gap:10px;
        }
        .scores-dot{
          width:8px;height:8px;border-radius:999px;background:#22c55e;
          margin-right:6px;
        }
    </style>
</head>
<body>

    <nav class="sidebar">
        <div class="brand">ğŸš€ COCKPIT</div>
        <div class="nav-item active" onclick="showView('dashboard', this)">ğŸ  Tableau de Bord</div>
        <div class="nav-category">MES DOSSIERS</div>
        <div class="nav-item" data-theme="pedago" onclick="showView('view-pedago', this)">ğŸŸ¦ 1. PÃ©dagogie & Cours</div>
        <div class="nav-item" data-theme="eval" onclick="showView('view-eval', this)">ğŸŸ¨ 2. Ã‰valuation & Suivi</div>
        <div class="nav-item" data-theme="eval" onclick="showView('view-scores', this)">ğŸŸ¨ 2b. Scores exercices</div>
        <div class="nav-item" data-theme="class" onclick="showView('view-class', this)">ğŸŸ© 3. Classes & Groupes</div>
        <div class="nav-item" data-theme="proj" onclick="showView('view-proj', this)">ğŸŸª 4. Projets & Transversal</div>
        <div class="nav-item" data-theme="admin" onclick="showView('view-admin', this)">ğŸŸ§ 5. Temps & Admin</div>
        <div class="nav-item" data-theme="live" onclick="showView('view-live', this)">ğŸŸ« 6. Classe en Temps RÃ©el</div>
        <div class="nav-item" data-theme="sites" onclick="showView('view-sites', this)">ğŸŒ 7. Sites Internet</div>
    </nav>

    <div id="menuOverlay" class="menu-overlay" onclick="closeMenu()" aria-hidden="true"></div>

    <main class="main-content">
        <header>
            <button id="menuBtn" class="menu-btn" aria-label="Menu" onclick="toggleMenu()">â˜°</button>
            <h1 id="page-title">Tableau de Bord</h1>
            <div class="header-infos">
                <div class="clock-time" id="clock">--:--</div>
                <div class="clock-date" id="date">--</div>
                <div id="vacation-badge" class="vacation-badge" style="display:none;"></div>
                <div id="inboxBadge" title="Nouvelles copies" style="display:none;min-width:24px;height:24px;padding:0 8px;border-radius:999px;background:#111827;color:#fff;font-weight:900;font-size:12px;align-items:center;justify-content:center;"></div>
            </div>
        </header>

        <div id="dashboard" class="view-section active">
            <div class="quick-actions">
                <a href="prof_plan.html" target="_blank" class="btn-quick"><span>ğŸª‘</span><div><strong>Plan de Classe</strong><span>Piloter les places</span></div></a>
                <a href="https://www.pronote.index-education.net/" target="_blank" class="btn-quick"><span>ğŸ“</span><div><strong>Pronote Web</strong><span>AccÃ¨s direct</span></div></a>
                <button onclick="document.getElementById('memo-input').focus()" class="btn-quick"><span>ğŸ§ </span><div><strong>MÃ©mo CiblÃ©</strong><span>Rappel contextuel</span></div></button>
            </div>
            <div class="dashboard-grid">
                <div class="widget">
                    <h3>ğŸ“… Planning <div style="font-size:0.8rem;"><button onclick="changeDate(-1)">â—€</button> <span id="planning-date-label">...</span> <button onclick="changeDate(1)">â–¶</button> <button onclick="openTimeline()" title="Timeline" style="margin-left:8px;background:#0f172a;color:white;border:none;padding:6px 10px;border-radius:8px;cursor:pointer;">Timeline</button></div></h3>
                    <ul class="planning-list" id="planning-list"></ul>
                </div>
                <div class="right-stack">
                    <div class="widget memo-widget">
                        <h3>ğŸ’¡ Pense-BÃªte Contextuel</h3>
                        <div style="display:flex;gap:5px;margin-bottom:15px;">
                            <select id="memo-target" style="padding:8px;border-radius:6px;border:1px solid #ddd;"></select>
                            <input id="memo-input" style="flex-grow:1;padding:8px;border-radius:6px;border:1px solid #ddd;" placeholder="Note...">
                            <button onclick="addMemo()" style="background:#0f172a;color:white;border:none;padding:8px 15px;border-radius:6px;">+</button>
                        </div>
                        <ul class="alert-list" id="memo-list"></ul>
                    </div>
                
                    <div class="widget agenda-widget">
                        <h3>ğŸ—“ï¸ Agenda</h3>
                        <div class="agenda-form">
                            <select id="agenda-type">
                                <option value="RÃ©union">RÃ©union</option>
                                <option value="Parents">Parents</option>
                                <option value="Admin">Admin</option>
                                <option value="Personnel">Personnel</option>
                                <option value="Classe">Classe</option>
                                <option value="Autre">Autre</option>
                            </select>
                            <input id="agenda-date" type="date" aria-label="Date">
                            <input id="agenda-time" type="time" aria-label="Heure">
                        </div>
                        <div class="agenda-form">
                            <input id="agenda-title" class="wide" placeholder="Titre (rÃ©union, rdv...)" aria-label="Titre">
                            <input id="agenda-place" class="wide" placeholder="Lieu (optionnel)" aria-label="Lieu">
                            <button onclick="addAgenda()" style="background:#0f172a;color:white;border:none;padding:8px 15px;border-radius:6px;">+</button>
                        </div>
                        <ul class="agenda-list" id="agenda-list"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-pedago" class="view-section">
  <h2 style="color:var(--col-pedago)">PÃ©dagogie & Cours</h2>

  <details open>
    <summary>ğŸ“ SÃ©quences CAP</summary>
    <div class="content-links">
      <a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ“ Exercices <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ—ºï¸ Progression <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ–¥ï¸ SÃ©ance projetÃ©e <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ§© ActivitÃ©s rapides <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
    </div>
  </details>

  <details>
    <summary>ğŸ“ SÃ©quences BAC PRO</summary>
    <div class="content-links">
      <a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ“ Exercices <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ—ºï¸ Progression <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ–¥ï¸ SÃ©ance projetÃ©e <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ§© ActivitÃ©s rapides <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
    </div>
  </details>

  <details id="course-structure">
    <summary>ğŸ“š Cours CAP & Bac Pro (structure)</summary>

    <details class="lvl-cap">
      <summary>CAP</summary>

      <details>
        <summary>ThÃ©matique A â€“ Lâ€™individu et sa santÃ©</summary>
        <details><summary>Module A1 â€“ Le systÃ¨me de santÃ©</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A2 â€“ Le sommeil</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A3 â€“ Lâ€™activitÃ© physique</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A4 â€“ Les addictions</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A5 â€“ SexualitÃ© / Contraception</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A6 â€“ PrÃ©venir les IST</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module A7 â€“ Lâ€™alimentation adaptÃ©e</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
      </details>

      <details>
        <summary>ThÃ©matique B â€“ Lâ€™environnement</summary>
        <details><summary>Module B1 â€“ Les ressources en eau</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module B2 â€“ Le risque majeur</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module B3 â€“ Les ressources en Ã©nergie</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module B4 â€“ Le bruit au quotidien</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
      </details>

      <details>
        <summary>ThÃ©matique C â€“ Milieu professionnel</summary>
        <details><summary>Module C1 â€“ Contrats de travail</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C2 â€“ Enjeux santÃ© sÃ©curitÃ©</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C3 â€“ DÃ©marche de prÃ©vention</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C4 â€“ Risques spÃ©cifiques</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C5 â€“ ActivitÃ© physique (travail)</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C6 â€“ Acteurs de prÃ©vention</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C7 â€“ Suivi mÃ©dical</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module C8 â€“ Secourisme</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
      </details>

      <details>
        <summary>ThÃ©matique D â€“ Consommateur</summary>
        <details><summary>Module D1 â€“ Lâ€™assurance</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module D2 â€“ Le budget</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
        <details><summary>Module D3 â€“ Les achats</summary><div class="content-links"><a href="#" class="btn-yellow">ğŸ“„ Cours <span class="badge-soon">ğŸš§ BientÃ´t</span></a></div></details>
      </details>
    </details>

    <details class="lvl-bacpro">
      <summary>Bac Pro</summary>

      <details>
        <summary>Seconde Bac Pro</summary>
        <details><summary>ThÃ©matique A</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours A1 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A2 (Sommeil) <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A3 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A4 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A5 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique B</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours B1 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours B2 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique C</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours C1 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C2 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
      </details>

      <details>
        <summary>PremiÃ¨re Bac Pro</summary>
        <details><summary>ThÃ©matique A</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours A6 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A7 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours A8 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique B</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours B3 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours B4 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique C</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours C3 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C4 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C5 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C6 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
      </details>

      <details>
        <summary>Terminale Bac Pro</summary>
        <details><summary>ThÃ©matique A</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours A9 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique B</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours B5 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
        <details><summary>ThÃ©matique C</summary><div class="content-links">
          <a href="#" class="btn-yellow">ğŸ“„ Cours C7 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C8 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C9 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C10 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C11 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
          <a href="#" class="btn-yellow">ğŸ“„ Cours C12 <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
        </div></details>
      </details>
    </details>
  </details>

  <details><summary>ğŸ“† Progressions</summary><div class="content-links"></div></details>

  <details>
    <summary>ğŸ“˜ RÃ©fÃ©rentiels PSE/PSR</summary>
    <div class="content-links">
      <a href="#" class="btn-yellow">ğŸ“˜ RÃ©fÃ©rentiel PSE CAP <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ“˜ RÃ©fÃ©rentiel PSE BAC PRO <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ“˜ RÃ©fÃ©rentiel PSR <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
    </div>
  </details>

  <details>
    <summary>ğŸ§‘â€ğŸ« PFMP / Stage</summary>
    <div class="content-links">
      <a href="#" class="btn-yellow">ğŸ“† Calendrier PFMP <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
      <a href="#" class="btn-yellow">ğŸ—‚ï¸ Documents PFMP <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
    </div>
  </details>

  <details>
    <summary>ğŸŒ¡ï¸ MÃ©tÃ©o de classe</summary>
    <div class="content-links">
      <a href="profmeteo.html" class="btn-blue-outline">ğŸŒ¡ï¸ Ouvrir ProfMÃ©tÃ©o</a>
      <a href="#" class="btn-yellow">ğŸ“Š Historique & tendances <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
    </div>
  </details>

</div>

        <div id="view-eval" class="view-section">
            <h2 style="color:var(--col-eval)">Ã‰valuation & Suivi</h2>
            <details open><summary>ğŸ“‹ Suivi & Analyses</summary><div class="content-links">
                <a href="pageprof.html" target="_blank" class="btn-yellow">ğŸ“Š PageProf (Suivi)</a>
                <a href="#" class="btn-yellow">ğŸ“ˆ GÃ©nÃ©rateur</a>
                <a href="#" class="btn-yellow">ğŸ“Š Tableau de bord <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ§¾ Grilles & barÃ¨mes <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ“¥ Exports (CSV/JSON) <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ—ƒï¸ Archives <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
            </div></details>
            <details><summary>ğŸ“ Grilles d'Ã©valuation</summary><div class="content-links">
                <a href="#" class="btn-yellow">ğŸ“„ ModÃ¨le CAP <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ“„ ModÃ¨le BAC PRO <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ§® BarÃ¨mes (points) <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
            </div></details>
            <details><summary>ğŸ“‚ Historique</summary><div class="content-links">
                <a href="#" class="btn-yellow">ğŸ—“ï¸ Notes & bilans <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ—ƒï¸ Archives PDF prof <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ“¥ Exports <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
            </div></details>
            <details><summary>ğŸ“Š Indicateurs MIMO</summary><div class="content-links">
                <a href="#" class="btn-yellow">ğŸ§  MÃ©mos rapides <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ“Œ Ã€ faire / Suivi <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
                <a href="#" class="btn-yellow">ğŸ“Š Stats (usage) <span class="badge-soon">ğŸš§ BientÃ´t</span></a>
            </div></details>
        </div>

        <div id="view-scores" class="view-section">
          <h2 style="color:var(--col-eval)">Scores exercices (en ligne)</h2>
          <div class="scores-card">
            <div class="scores-toolbar">
              <span class="scores-pill">ğŸ“Š Vue globale des exercices envoyÃ©s</span>
              <button id="scores-btn-refresh" type="button" class="scores-button">ğŸ”„ Actualiser</button>
              <div id="scores-counter" class="scores-counter">0 enregistrement</div>
            </div>
            <div class="scores-filters">
              <input id="scores-filter-name" type="text" placeholder="Filtrer par nomâ€¦">
              <select id="scores-filter-class">
                <option value="">Toutes les classes</option>
                <option value="2nde Bac Pro">2nde Bac Pro</option>
                <option value="1Ã¨re Bac Pro">1Ã¨re Bac Pro</option>
                <option value="Tle Bac Pro">Tle Bac Pro</option>
                <option value="CAP 1">CAP 1</option>
                <option value="CAP 2">CAP 2</option>
                <option value="Autre">Autre</option>
              </select>
              <select id="scores-filter-exo">
                <option value="">Tous les exercices</option>
              </select>
            </div>
            <div class="scores-table-wrap">
              <table class="results-table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Nom Ã©lÃ¨ve</th>
                    <th>Classe</th>
                    <th>Exercice</th>
                    <th>Score</th>
                    <th>Date dâ€™envoi</th>
                  </tr>
                </thead>
                <tbody id="scores-tbody">
                  <tr><td colspan="6" class="scores-empty">Chargementâ€¦</td></tr>
                </tbody>
              </table>
            </div>
            <div class="scores-status-bar">
              <span><span class="scores-dot"></span><span id="scores-status">Connexion Firestore en temps rÃ©el</span></span>
              <span id="scores-last-update"></span>
            </div>
          </div>
        </div>

        <div id="view-class" class="view-section">
            <
